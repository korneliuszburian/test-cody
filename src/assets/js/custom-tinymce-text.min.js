function addQButton(t,s){QTags.addButton(t,s,(()=>{wrapWithClass(prompt("Wpisz tag [div, span, p...]: ",""),prompt("Nazwy klas: ",""))}))}function wrapWithClass(t,s){const e=document.getElementsByTagName("textarea");for(const n of e){const{selectionStart:e,selectionEnd:a}=n,c=n.value.substring(e,a);if(c){const o=wrapSelectedText(c,t,s);n.value=n.value.substring(0,e)+o+n.value.substring(a)}}}function wrapSelectedText(t,s,e){const n=/<(\w+)([^>]*)>(.*?)<\/\1>/;if(n.test(t))return t.replace(n,((t,n,a,c)=>{const o=s||n;return`<${o}${updateClass(a,e)}>${c}</${o}>`}));const a=s||"p";return`<${a}${e?` class="${e}"`:""}>${t}</${a}>`}function updateClass(t,s){const e=/class=['"]([^'"]*)['"]/,n=(e.test(t)?e.exec(t)[1].split(" "):[]).filter((t=>t!==s));s&&n.push(s);const a=n.join(" ");return a?` class="${a}"`:""}addQButton("custom_class_btn","custom");