const dialog=document.getElementById("ccd"),isCookieConsent=()=>""==!getCookie("cookie_consent"),isMarketingConsent=()=>2==getCookie("cookie_consent"),showCookieBar=()=>{dialog.showModal(),ht.classList.add("stop-scrolling")},removeCookiesBar=()=>{ht.classList.remove("stop-scrolling"),dialog.close(),dialog.remove()},toggleDetailsCookiesBar=()=>{document.querySelector(".ccd__set").classList.toggle("ccd__set--active")},checkCookieConsent=(e=!1)=>{const o=()=>runGtag(e);if(dialog&&!isCookieConsent()&&window.location.href!=ga4.policy_page_url){document.getElementById("settings-button").addEventListener("click",toggleDetailsCookiesBar),document.getElementById("save-settings").addEventListener("click",(()=>{document.querySelector("#marketing").checked&&(setCookie("cookie_consent",2,365),o()),setCookie("cookie_consent",0,365),removeCookiesBar()})),document.getElementById("accept-all").addEventListener("click",(()=>{setCookie("cookie_consent",2,365),removeCookiesBar(),e&&console.log("Zgoda na wszystko, cookie_consent: 2, gtagInit()"),o()})),document.getElementById("decline-all").addEventListener("click",(()=>{removeCookiesBar(),setCookie("cookie_consent",0,365),e&&console.log("Brak zgody, cookie_consent: 0")})),showCookieBar()}else isMarketingConsent()?(e&&console.log("Zgoda już udzielona, gtagInit()"),o()):e&&console.log("Zgoda już udzielona, bez marketingowej")};checkCookieConsent(ga4.data.debug??!1),dialog&&dialog.addEventListener("keydown",(e=>{"Escape"===e.key&&e.preventDefault()}));